Current keymap:

[![Preview](https://user-images.githubusercontent.com/43980777/140295961-48369e66-a735-4d62-afec-459c4345392f.png)](http://www.keyboard-layout-editor.com/##@_name=Helix&notes=%20%20Made%20with%20%3C3%20by%20NNB.%0Ahttps%2F:%2F%2F%2F%2Fgithub.com%2F%2FNNBnh&css=.keylabel%20%7B%0A%20%20%20%20font-family%2F:%20'Mono'%2F%3B%0A%7D%3B&@_c=%23FFFFFF&p=CHICKLET&w:15&h:0.5&d:true%3B&=Defaults%2F:%0A%0A(Bottom%20is%20normal,%20top%20is%20holding%20Shift)%3B&@_y:-0.5&t=%23000000%0A%239d0006%0A%0A%0A%0A%0A%239d0006&a:5&f:1%3B&=%60~%0ACase%2F&darr%2F%3B%0A%0A%0A%0A%0ACase~&_t=%23000000%0A%0A%0A%0A%0A%0A%238f3f71%3B&=1!%0A1%0A%0A%0A%0A%0AShell%2F&larr%2F%3B&_t=%23000000%3B&=2%2F@%0A2&=3%23%0A3&_t=%23000000%0A%0A%0A%0A%0A%0A%23af3a03%3B&=4$%0A4%0A%0A%0A%0A%0AKeepPipe&=5%25%0A5%0A%0A%0A%0A%0AAll&_t=%23000000%3B&=6%5E%0A6&=7%2F&%0A7&_t=%23000000%0A%0A%0A%0A%0A%0A%238f3f71%3B&=8*%0A8%0A%0A%0A%0A%0ASelection&_t=%23000000%0A%0A%0A%0A%0A%0A%23af3a03%3B&=9(%0A9%0A%0A%0A%0A%0ARotate%2F&larr%2F%3B&=0)%0A0%0A%0A%0A%0A%0ARotate%2F&rarr%2F%3B&_t=%23000000%3B&=-%2F_&_t=%23000000%0A%0A%0A%0A%0A%0A%239d0006%3B&=%2F=+%0A%0A%0A%0A%0A%0AFormat&_t=%23000000%3B&=BS&=DEL%3B&@_w:1.5%3B&=TAB&=Q&_t=%23000000%0A%23156603%0A%0A%0A%0A%0A%23156603%3B&=W%0AWord%2F&rarr%2F%3B%0A%0A%0A%0A%0AWORD%2F&rarr%2F%3B&=E%0AWord%3Ci%20class%2F='kb%20kb-Line-End'%3E%3C%2F%2Fi%3E%0A%0A%0A%0A%0AWORD%3Ci%20class%2F='kb%20kb-Line-End'%3E%3C%2F%2Fi%3E&_t=%23000000%0A%239d0006%0A%0A%0A%0A%0A%239d0006%3B&=R%0AReplace%0A%0A%0A%0A%0AReplaceY&_x:0.009999999999999787&t=%23000000%0A%23156603%0A%0A%0A%0A%0A%23156603%3B&=T%0ATill%3Ci%20class%2F='kb%20kb-Arrows-Right'%3E%3C%2F%2Fi%3E%0A%0A%0A%0A%0ATill%3Ci%20class%2F='kb%20kb-Arrows-Left'%3E%3C%2F%2Fi%3E&_x:-0.009999999999999787&t=%23000000%0A%239d0006%3B&=Y%0AYank&_t=%23000000%0A%239d0006%0A%0A%0A%0A%0A%239d0006%3B&=U%0AUndo%0A%0A%0A%0A%0ARedo&=I%0AInsert%3Ci%20class%2F='kb%20kb-Arrows-Left'%3E%3C%2F%2Fi%3E%0A%0A%0A%0A%0AInsert%3Ci%20class%2F='kb%20kb-Line-Start'%3E%3C%2F%2Fi%3E&=O%0AOpen%2F&darr%2F%3B%0A%0A%0A%0A%0AOpen%2F&uarr%2F%3B&=P%0APaste%2F&rarr%2F%3B%0A%0A%0A%0A%0APaste%2F&larr%2F%3B&_t=%23000000%3B&=%5B%7B&=%5D%7D&_t=%23000000%0A%0A%0A%0A%0A%0A%239d0006&w:1.5%3B&=%5C%7C%0A%0A%0A%0A%0A%0APipe%3B&@_t=%23000000&w:1.75%3B&=ESC&_t=%23000000%0A%239d0006%0A%0A%0A%0A%0A%239d0006%3B&=A%0AInsert%3Ci%20class%2F='kb%20kb-Arrows-Right'%3E%3C%2F%2Fi%3E%0A%0A%0A%0A%0AInsert%3Ci%20class%2F='kb%20kb-Line-End'%3E%3C%2F%2Fi%3E&_t=%23000000%0A%23af3a03%0A%0A%0A%0A%0A%23af3a03%3B&=S%0ASelectR%0A%0A%0A%0A%0ASplitR&_t=%23000000%0A%239d0006%3B&=D%0ADelete&_t=%23000000%0A%23156603%0A%0A%0A%0A%0A%23156603&n:true%3B&=F%0AFind%3Ci%20class%2F='kb%20kb-Arrows-Right'%3E%3C%2F%2Fi%3E%0A%0A%0A%0A%0AFind%3Ci%20class%2F='kb%20kb-Arrows-Left'%3E%3C%2F%2Fi%3E&_t=%23000000%0A%23156603%3B&=G%0AGoto&=H%0ALeft&_t=%23000000%0A%23156603%0A%0A%0A%0A%0A%23af3a03&n:true%3B&=J%0ADown%0A%0A%0A%0A%0AJoin&=K%0AUp%0A%0A%0A%0A%0AKeepR&_t=%23000000%0A%23156603%3B&=L%0ARight&_t=%23000000%0A%23af3a03%0A%0A%0A%0A%0A%238f3f71%3B&=%2F%3B%2F:%0ACollaps%0A%0A%0A%0A%0ACommand&_t=%23000000%0A%0A%0A%0A%0A%0A%238f3f71%3B&='%22%0A%0A%0A%0A%0A%0ARegist&_t=%23000000&w:2.25%3B&=ENTER%3B&@_c=%23aaaaaa&w:2.25%3B&=SHIFT&_c=%23FFFFFF&t=%23000000%0A%238f3f71%0A%0A%0A%0A%0A%238f3f71%3B&=Z%0Aview%0A%0A%0A%0A%0AVIEW&_t=%23000000%0A%23af3a03%0A%0A%0A%0A%0A%23af3a03%3B&=X%0ALine%0A%0A%0A%0A%0ALineWise&_t=%23000000%0A%239d0006%0A%0A%0A%0A%0A%23af3a03%3B&=C%0AChange%0A%0A%0A%0A%0ASelect%2F&darr%2F%3B&_t=%23000000%0A%23af3a03%3B&=V%0ASELECT&_t=%23000000%0A%23156603%0A%0A%0A%0A%0A%23156603%3B&=B%0AWord%2F&larr%2F%3B%0A%0A%0A%0A%0AWORD%2F&larr%2F%3B&_t=%23000000%0A%23156603%0A%0A%0A%0A%0A%23af3a03%3B&=N%0ANext%0A%0A%0A%0A%0AAddNext&_t=%23000000%0A%23af3a03%3B&=M%0AMatch&_t=%23000000%0A%23af3a03%0A%0A%0A%0A%0A%239d0006%3B&=,%3C%0AKeep%0A%0A%0A%0A%0AUndent&_t=%23000000%0A%239d0006%0A%0A%0A%0A%0A%239d0006%3B&=.%3E%0ARepeatCh%0A%0A%0A%0A%0AIndent&_t=%23000000%0A%23156603%3B&=%2F%2F%3F%0ASearch&_c=%23aaaaaa&t=%23000000&w:2.75%3B&=SHIFT%3B&@_w:1.25%3B&=CTRL&_x:1.25&w:1.25%3B&=ALT&_c=%23FFFFFF&w:6.25%3B&=SPACE%0Aspace&_c=%23aaaaaa&w:1.25%3B&=ALT&_x:2.5&w:1.25%3B&=CTRL%3B&@_c=%23FFFFFF&a:4&f:3&w:15&h:0.5&d:true%3B&=Holding%20Alt%2F:%0A%0A(Bottom%20is%20normal,%20top%20is%20holding%20Shift)%3B&@_y:-0.5&t=%23000000%0A%239d0006&a:5&f:1%3B&=%60~%0ACase%2F&uarr%2F%3B&_t=%23000000%0A%0A%0A%0A%0A%0A%238f3f71%3B&=1!%0A%0A%0A%0A%0A%0Ashell%2F&rarr%2F%3B&_t=%23000000%3B&=2%2F@&=3%23&=4$&=5%25&=6%5E&=7%2F&&=8*&_t=%23000000%0A%0A%0A%0A%0A%0A%239d0006%3B&=9(%0A%0A%0A%0A%0A%0AROTATE%2F&larr%2F%3B&=0)%0A%0A%0A%0A%0A%0AROTATE%2F&rarr%2F%3B&_t=%23000000%3B&=-%2F_&=%2F=+&=BS&=DEL%3B&@_w:1.5%3B&=TAB&=Q&=W&=E&=R&_x:0.009999999999999787%3B&=T&_x:-0.009999999999999787%3B&=Y&=U&=I&=O&=P&=%5B%7B&=%5D%7D&_t=%23000000%0A%0A%0A%0A%0A%0A%238f3f71&w:1.5%3B&=%5C%7C%0A%0A%0A%0A%0A%0APipeTo%3B&@_t=%23000000&w:1.75%3B&=ESC&=A&=S&=D&_n:true%3B&=F&=G&=H&_n:true%3B&=J&=K&=L&_t=%23000000%0A%23af3a03%3B&=%2F%3B%2F:%0AFlip&_t=%23000000%3B&='%22&_w:2.25%3B&=ENTER%3B&@_c=%23aaaaaa&w:2.25%3B&=SHIFT&_c=%23FFFFFF%3B&=Z&=X&_t=%23000000%0A%0A%0A%0A%0A%0A%23af3a03%3B&=C%0A%0A%0A%0A%0A%0ASelect%2F&uarr%2F%3B&_t=%23000000%3B&=V&=B&=N&=M&_t=%23000000%0A%23af3a03%3B&=,%3C%0ARemove&_t=%23000000%0A%23156603%3B&=.%3E%0ARepeatMt&_t=%23000000%3B&=%2F%2F%3F&_c=%23aaaaaa&w:2.75%3B&=SHIFT%3B&@_w:1.25%3B&=CTRL&_x:1.25&w:1.25%3B&=ALT&_c=%23FFFFFF&w:6.25%3B&=SPACE&_c=%23aaaaaa&w:1.25%3B&=ALT&_x:2.5&w:1.25%3B&=CTRL%3B&@_c=%23FFFFFF&a:4&f:3&w:15&h:0.5&d:true%3B&=Holding%20Ctrl%2F:%0A%0A(Bottom%20is%20normal,%20top%20is%20holding%20Shift)%3B&@_y:-0.5&a:5&f:1%3B&=%60~&=1!&=2%2F@&=3%23&=4$&=5%25&=6%5E&=7%2F&&=8*&=9(&=0)&=-%2F_&=%2F=+&=BS&=DEL%3B&@_w:1.5%3B&=TAB&=Q&_t=%23000000%0A%238f3f71%3B&=W%0Awindow&_t=%23000000%3B&=E&=R&_x:0.009999999999999787%3B&=T&_x:-0.009999999999999787%3B&=Y&_t=%23000000%0A%23156603%3B&=U%0APageUp&_t=%23000000%0A%23af3a03%3B&=I%0AJumpFrwd&=O%0AJumpBack&_t=%23000000%3B&=P&=%5B%7B&=%5D%7D&_w:1.5%3B&=%5C%7C%3B&@_w:1.75%3B&=ESC&=A&=S&_t=%23000000%0A%23156603%3B&=D%0APageDown&_t=%23000000&n:true%3B&=F&=G&=H&_n:true%3B&=J&=K&=L&=%2F%3B%2F:&='%22&_w:2.25%3B&=ENTER%3B&@_c=%23aaaaaa&w:2.25%3B&=SHIFT&_c=%23FFFFFF%3B&=Z&=X&_t=%23000000%0A%239d0006%3B&=C%0AComment&_t=%23000000%3B&=V&=B&=N&=M&=,%3C&=.%3E&=%2F%2F%3F&_c=%23aaaaaa&w:2.75%3B&=SHIFT%3B&@_w:1.25%3B&=CTRL&_x:1.25&w:1.25%3B&=ALT&_c=%23FFFFFF&w:6.25%3B&=SPACE&_c=%23aaaaaa&w:1.25%3B&=ALT&_x:2.5&w:1.25%3B&=CTRL)

We are still thinking about visual mode and there are some issues with kakoune and vim that we want to address.

vim
- we think a visual first is better (multi-cursors support)

kakoune
- we don't want to hold `shift` for extend
- we don't want to use `alt`

both
- we don't want to hold `ctrl-f` to page down (should be like in `V` kakoune as pager)
- keep visual, linewise visual, visual block mode in vim while having the ability to be visual first
- we prefer not to hold keys (shift, ctrl, alt)

Cases below may not be able to utilize lsp functions. Should be real cases for normal workflow. Commenting functions also won't be useful.

We want to provide one way without using count and one way using count since we may not always use count. Keystrokes count, pressing shift is considered a count.

# Sample one

```rust
/// ```
/// impl EditorView {
///     pub fn new() -> Self {
///         Self {
///             keymap: keymap::default(),
///             on_next_key: None,
///             last_insert: (commands::normal_mode, Vec::new()),
///             completion: None,
///         }
///     }
/// ```
```

## Case one

Delete the whole line starting from `Self {` to `}` (including last newline), cursor starts at `/// (#)` on line `Self {`. 

vim
- @pickfire `V%d` (5), with count `6dd` (3)
- @CBenoit `V%d` is (4) not (5)

kakoune
- @pickfire `ghMLd` (6), with count `6Xd` (4)
- @vbauerster `m<a-x>d` (4)

helix
- @pickfire `Vmvld` (6) if we follow vim, with count (current) `ghV5jgld` (9), with count (current + X) `ghV5Xd` (8)
- @CBenoit with helix line-wise extend mode (like in vim), we should get `Vmd` (4) without count and `V5jd` (5) with count.

## Case two

Add line comment before `Self {` to matching `}` all on same column, starting at `Self {`.

vim
- @pickfire `ctrl-vI// ` (7)

kakoune
- @pickfire `CCCCCi// ` (10) - I wish there is a better way, with count `5Ci// ` (7)
- @vbauerster `m<a-s>ghi//`

helix
- @pickfire maybe we need to have visual block?

Err, maybe we should count escape key?

- TODO swapping key value position in code
- TODO xml editing, joining child, removing parent, splitting child, swapping key position
- TODO (rare use cases) drawing boxes
- TODO I noticed that helix requires a lot more keys just to change till end of line (not including newline)

Reference:
- https://github.com/mawww/kakoune/blob/master/doc/pages/keys.asciidoc#object-selection (@archseer initial design based on this)